pluginManagement {
  plugins {
    id("com.github.jk1.dependency-license-report") version "2.5"
    id("com.google.cloud.tools.jib") version "3.4.0"
    id("com.gradle.plugin-publish") version "1.2.1"
    id("io.github.gradle-nexus.publish-plugin") version "1.3.0"
    id("org.jetbrains.kotlin.jvm") version "1.9.22"
    id("org.xbib.gradle.plugin.jflex") version "3.0.2"
    id("org.unbroken-dome.xjc") version "2.0.0"
    id("org.graalvm.buildtools.native") version "0.10.0"
  }
}

plugins {
  id("com.gradle.enterprise") version "3.16.2"
  id("com.gradle.common-custom-user-data-gradle-plugin") version "1.12.1"
  id("org.gradle.toolchains.foojay-resolver-convention") version "0.8.0"
  // this can't live in pluginManagement currently due to
  // https://github.com/bmuschko/gradle-docker-plugin/issues/1123
  // in particular, these commands are failing (reproducible locally):
  // ./gradlew :smoke-tests:images:servlet:buildLinuxTestImages pushMatrix -PsmokeTestServer=jetty
  // ./gradlew :smoke-tests:images:servlet:buildWindowsTestImages pushMatrix -PsmokeTestServer=jetty
  id("com.bmuschko.docker-remote-api") version "9.4.0" apply false
}

dependencyResolutionManagement {
  repositories {
    mavenCentral()
    mavenLocal()
  }
}

val gradleEnterpriseServer = "https://ge.opentelemetry.io"
val isCI = System.getenv("CI") != null
val geAccessKey = System.getenv("GRADLE_ENTERPRISE_ACCESS_KEY") ?: ""

// if GE access key is not given and we are in CI, then we publish to scans.gradle.com
val useScansGradleCom = isCI && geAccessKey.isEmpty()

if (useScansGradleCom) {
  gradleEnterprise {
    buildScan {
      termsOfServiceUrl = "https://gradle.com/terms-of-service"
      termsOfServiceAgree = "yes"
      isUploadInBackground = !isCI
      publishAlways()

      capture {
        isTaskInputFiles = true
      }
    }
  }
} else {
  gradleEnterprise {
    server = gradleEnterpriseServer
    buildScan {
      isUploadInBackground = !isCI

      this as com.gradle.enterprise.gradleplugin.internal.extension.BuildScanExtensionWithHiddenFeatures
      publishIfAuthenticated()
      publishAlways()

      capture {
        isTaskInputFiles = true
      }

      gradle.startParameter.projectProperties["testJavaVersion"]?.let { tag(it) }
      gradle.startParameter.projectProperties["testJavaVM"]?.let { tag(it) }
      gradle.startParameter.projectProperties["smokeTestSuite"]?.let {
        value("Smoke test suite", it)
      }
    }
  }
}

val geCacheUsername = System.getenv("GE_CACHE_USERNAME") ?: ""
val geCachePassword = System.getenv("GE_CACHE_PASSWORD") ?: ""
buildCache {
  remote<HttpBuildCache> {
    url = uri("$gradleEnterpriseServer/cache/")
    isPush = isCI && geCacheUsername.isNotEmpty()
    credentials {
      username = geCacheUsername
      password = geCachePassword
    }
  }
}

rootProject.name = "opentelemetry-java-instrumentation"

includeBuild("conventions")

include(":custom-checks")

include(":muzzle")

// agent projects
include(":opentelemetry-api-shaded-for-instrumenting")
include(":opentelemetry-ext-annotations-shaded-for-instrumenting")
include(":opentelemetry-instrumentation-annotations-shaded-for-instrumenting")
include(":opentelemetry-instrumentation-api-shaded-for-instrumenting")
include(":javaagent-bootstrap")
include(":javaagent-extension-api")
include(":javaagent-tooling")
include(":javaagent-tooling:javaagent-tooling-java9")
include(":javaagent-internal-logging-application")
include(":javaagent-internal-logging-simple")
include(":javaagent")

include(":bom")
include(":bom-alpha")
include(":instrumentation-api")
include(":instrumentation-api-incubator")
include(":instrumentation-annotations")
include(":instrumentation-annotations-support")
include(":instrumentation-annotations-support-testing")

// misc
include(":dependencyManagement")
include(":testing:agent-exporter")
include(":testing:agent-for-testing")
include(":testing:armeria-shaded-for-testing")
include(":testing-common")
include(":testing-common:integration-tests")
include(":testing-common:library-for-integration-tests")
include(":instrumentation:internal:internal-application-logger:bootstrap")
include(":instrumentation:internal:internal-application-logger:javaagent")
include(":instrumentation:internal:internal-class-loader:javaagent")
include(":instrumentation:internal:internal-class-loader:javaagent-integration-tests")
include(":instrumentation:internal:internal-eclipse-osgi-3.6:javaagent")
include(":instrumentation:internal:internal-lambda:javaagent")
include(":instrumentation:internal:internal-lambda-java9:javaagent")
include(":instrumentation:internal:internal-reflection:javaagent")
include(":instrumentation:internal:internal-reflection:javaagent-integration-tests")
include(":instrumentation:internal:internal-url-class-loader:javaagent")
include(":instrumentation:internal:internal-url-class-loader:javaagent-integration-tests")
include(":instrumentation:executors:bootstrap")
include(":instrumentation:executors:javaagent")
include(":instrumentation:executors:testing")
include(":instrumentation:external-annotations:javaagent")
include(":instrumentation:external-annotations:javaagent-unit-tests")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.0:javaagent")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.4:javaagent")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.10:javaagent")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.15:javaagent")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.27:javaagent")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.31:javaagent")
include(":instrumentation:opentelemetry-api:opentelemetry-api-1.32:javaagent")
include(":instrumentation:opentelemetry-extension-annotations-1.0:javaagent")
include(":instrumentation:opentelemetry-extension-kotlin-1.0:javaagent")
include(":instrumentation:opentelemetry-instrumentation-annotations-1.16:javaagent")
include(":instrumentation:opentelemetry-instrumentation-api:javaagent")
include(":instrumentation:opentelemetry-instrumentation-api:testing")

// benchmark
include(":benchmark-overhead-jmh")
include(":benchmark-jfr-analyzer")

val nonCoreProjects = mutableListOf<String>()

// smoke tests
nonCoreProjects.add(":smoke-tests")
nonCoreProjects.add(":smoke-tests:images:fake-backend")
nonCoreProjects.add(":smoke-tests:images:grpc")
nonCoreProjects.add(":smoke-tests:images:play")
nonCoreProjects.add(":smoke-tests:images:quarkus")
nonCoreProjects.add(":smoke-tests:images:security-manager")
nonCoreProjects.add(":smoke-tests:images:servlet")
nonCoreProjects.add(":smoke-tests:images:servlet:servlet-3.0")
nonCoreProjects.add(":smoke-tests:images:servlet:servlet-5.0")
nonCoreProjects.add(":smoke-tests:images:spring-boot")
nonCoreProjects.add(":smoke-tests-otel-starter")

nonCoreProjects.add(":instrumentation:akka:akka-actor-2.3:javaagent")
nonCoreProjects.add(":instrumentation:akka:akka-actor-fork-join-2.5:javaagent")
nonCoreProjects.add(":instrumentation:akka:akka-http-10.0:javaagent")
nonCoreProjects.add(":instrumentation:alibaba-druid-1.0:javaagent")
nonCoreProjects.add(":instrumentation:alibaba-druid-1.0:library")
nonCoreProjects.add(":instrumentation:alibaba-druid-1.0:testing")
nonCoreProjects.add(":instrumentation:apache-dbcp-2.0:javaagent")
nonCoreProjects.add(":instrumentation:apache-dbcp-2.0:library")
nonCoreProjects.add(":instrumentation:apache-dbcp-2.0:testing")
nonCoreProjects.add(":instrumentation:apache-dubbo-2.7:javaagent")
nonCoreProjects.add(":instrumentation:apache-dubbo-2.7:library-autoconfigure")
nonCoreProjects.add(":instrumentation:apache-dubbo-2.7:testing")
nonCoreProjects.add(":instrumentation:apache-httpasyncclient-4.1:javaagent")
nonCoreProjects.add(":instrumentation:apache-httpclient:apache-httpclient-2.0:javaagent")
nonCoreProjects.add(":instrumentation:apache-httpclient:apache-httpclient-4.0:javaagent")
nonCoreProjects.add(":instrumentation:apache-httpclient:apache-httpclient-4.3:library")
nonCoreProjects.add(":instrumentation:apache-httpclient:apache-httpclient-4.3:testing")
nonCoreProjects.add(":instrumentation:apache-httpclient:apache-httpclient-5.0:javaagent")
nonCoreProjects.add(":instrumentation:apache-httpclient:apache-httpclient-5.2:library")
nonCoreProjects.add(":instrumentation:armeria-1.3:javaagent")
nonCoreProjects.add(":instrumentation:armeria-1.3:library")
nonCoreProjects.add(":instrumentation:armeria-1.3:testing")
nonCoreProjects.add(":instrumentation:async-http-client:async-http-client-1.9:javaagent")
nonCoreProjects.add(":instrumentation:async-http-client:async-http-client-2.0:javaagent")
nonCoreProjects.add(":instrumentation:aws-lambda:aws-lambda-core-1.0:javaagent")
nonCoreProjects.add(":instrumentation:aws-lambda:aws-lambda-core-1.0:library")
nonCoreProjects.add(":instrumentation:aws-lambda:aws-lambda-core-1.0:testing")
nonCoreProjects.add(":instrumentation:aws-lambda:aws-lambda-events-2.2:javaagent")
nonCoreProjects.add(":instrumentation:aws-lambda:aws-lambda-events-2.2:library")
nonCoreProjects.add(":instrumentation:aws-lambda:aws-lambda-events-2.2:testing")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-1.11:javaagent")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-1.11:library")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-1.11:library-autoconfigure")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-1.11:testing")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-2.2:javaagent")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-2.2:library")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-2.2:library-autoconfigure")
nonCoreProjects.add(":instrumentation:aws-sdk:aws-sdk-2.2:testing")
nonCoreProjects.add(":instrumentation:azure-core:azure-core-1.14:javaagent")
nonCoreProjects.add(":instrumentation:azure-core:azure-core-1.14:library-instrumentation-shaded")
nonCoreProjects.add(":instrumentation:azure-core:azure-core-1.19:javaagent")
nonCoreProjects.add(":instrumentation:azure-core:azure-core-1.19:library-instrumentation-shaded")
nonCoreProjects.add(":instrumentation:azure-core:azure-core-1.36:javaagent")
nonCoreProjects.add(":instrumentation:azure-core:azure-core-1.36:library-instrumentation-shaded")
nonCoreProjects.add(":instrumentation:camel-2.20:javaagent")
nonCoreProjects.add(":instrumentation:camel-2.20:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:cassandra:cassandra-3.0:javaagent")
nonCoreProjects.add(":instrumentation:cassandra:cassandra-4.0:javaagent")
nonCoreProjects.add(":instrumentation:cassandra:cassandra-4.4:javaagent")
nonCoreProjects.add(":instrumentation:cassandra:cassandra-4.4:library")
nonCoreProjects.add(":instrumentation:cassandra:cassandra-4.4:testing")
nonCoreProjects.add(":instrumentation:cassandra:cassandra-4-common:testing")
nonCoreProjects.add(":instrumentation:cdi-testing")
nonCoreProjects.add(":instrumentation:graphql-java-12.0:javaagent")
nonCoreProjects.add(":instrumentation:graphql-java-12.0:library")
nonCoreProjects.add(":instrumentation:graphql-java-12.0:testing")
nonCoreProjects.add(":instrumentation:c3p0-0.9:javaagent")
nonCoreProjects.add(":instrumentation:c3p0-0.9:library")
nonCoreProjects.add(":instrumentation:c3p0-0.9:testing")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-2.0:javaagent")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-2.6:javaagent")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-2-common:javaagent")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-2-common:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-3.1:javaagent")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-3.1:tracing-opentelemetry-shaded")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-3.1.6:javaagent")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-3.1.6:tracing-opentelemetry-shaded")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-3.2:javaagent")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-3.2:tracing-opentelemetry-shaded")
nonCoreProjects.add(":instrumentation:couchbase:couchbase-common:testing")
nonCoreProjects.add(":instrumentation:dropwizard:dropwizard-metrics-4.0:javaagent")
nonCoreProjects.add(":instrumentation:dropwizard:dropwizard-views-0.7:javaagent")
nonCoreProjects.add(":instrumentation:dropwizard:dropwizard-testing")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-api-client-7.16:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-api-client-7.16:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-rest-common:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-rest-common:library")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-rest-5.0:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-rest-6.4:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-rest-7.0:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-rest-7.0:library")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-transport-common:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-transport-common:testing")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-transport-5.0:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-transport-5.3:javaagent")
nonCoreProjects.add(":instrumentation:elasticsearch:elasticsearch-transport-6.0:javaagent")
nonCoreProjects.add(":instrumentation:finatra-2.9:javaagent")
nonCoreProjects.add(":instrumentation:geode-1.4:javaagent")
nonCoreProjects.add(":instrumentation:google-http-client-1.19:javaagent")
nonCoreProjects.add(":instrumentation:grails-3.0:javaagent")
nonCoreProjects.add(":instrumentation:grizzly-2.3:javaagent")
nonCoreProjects.add(":instrumentation:grpc-1.6:javaagent")
nonCoreProjects.add(":instrumentation:grpc-1.6:library")
nonCoreProjects.add(":instrumentation:grpc-1.6:testing")
nonCoreProjects.add(":instrumentation:guava-10.0:javaagent")
nonCoreProjects.add(":instrumentation:guava-10.0:library")
nonCoreProjects.add(":instrumentation:gwt-2.0:javaagent")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-3.3:javaagent")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-4.0:javaagent")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-6.0:javaagent")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-6.0:spring-testing")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-common:javaagent")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-procedure-call-4.3:javaagent")
nonCoreProjects.add(":instrumentation:hibernate:hibernate-reactive-1.0:javaagent")
nonCoreProjects.add(":instrumentation:hikaricp-3.0:javaagent")
nonCoreProjects.add(":instrumentation:hikaricp-3.0:library")
nonCoreProjects.add(":instrumentation:hikaricp-3.0:testing")
nonCoreProjects.add(":instrumentation:http-url-connection:javaagent")
nonCoreProjects.add(":instrumentation:hystrix-1.4:javaagent")
nonCoreProjects.add(":instrumentation:java-http-client:javaagent")
nonCoreProjects.add(":instrumentation:java-http-client:library")
nonCoreProjects.add(":instrumentation:java-http-client:testing")
nonCoreProjects.add(":instrumentation:java-util-logging:javaagent")
nonCoreProjects.add(":instrumentation:java-util-logging:shaded-stub-for-instrumenting")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-common:bootstrap")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-common:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-common:testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-1.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-annotations:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-arquillian-testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-common:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-cxf-3.2:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-jersey-2.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-payara-testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-resteasy-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-resteasy-3.1:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-resteasy-common:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-common:testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-tomee-testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-2.0:jaxrs-2.0-wildfly-testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-3.0:jaxrs-3.0-annotations:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-3.0:jaxrs-3.0-common:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-3.0:jaxrs-3.0-common:testing")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-3.0:jaxrs-3.0-jersey-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs:jaxrs-3.0:jaxrs-3.0-resteasy-6.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxrs-client:jaxrs-client-1.1-testing")
nonCoreProjects.add(":instrumentation:jaxrs-client:jaxrs-client-2.0-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-metro-2.2:javaagent")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-arquillian-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-axis2-1.6:javaagent")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-cxf-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-cxf-3.0:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-metro-2.2-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-common-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-tomee-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-2.0-wildfly-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-3.0-common-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-3.0-metro-2.2-testing")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-common:javaagent")
nonCoreProjects.add(":instrumentation:jaxws:jaxws-jws-api-1.1:javaagent")
nonCoreProjects.add(":instrumentation:jboss-logmanager:jboss-logmanager-appender-1.1:javaagent")
nonCoreProjects.add(":instrumentation:jboss-logmanager:jboss-logmanager-mdc-1.1:javaagent")
nonCoreProjects.add(":instrumentation:jdbc:bootstrap")
nonCoreProjects.add(":instrumentation:jdbc:javaagent")
nonCoreProjects.add(":instrumentation:jdbc:library")
nonCoreProjects.add(":instrumentation:jdbc:testing")
nonCoreProjects.add(":instrumentation:jedis:jedis-1.4:javaagent")
nonCoreProjects.add(":instrumentation:jedis:jedis-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jedis:jedis-4.0:javaagent")
nonCoreProjects.add(":instrumentation:jedis:jedis-common:javaagent")
nonCoreProjects.add(":instrumentation:jetty:jetty-8.0:javaagent")
nonCoreProjects.add(":instrumentation:jetty:jetty-11.0:javaagent")
nonCoreProjects.add(":instrumentation:jetty:jetty-common:javaagent")
nonCoreProjects.add(":instrumentation:jetty-httpclient:jetty-httpclient-9.2:javaagent")
nonCoreProjects.add(":instrumentation:jetty-httpclient:jetty-httpclient-9.2:library")
nonCoreProjects.add(":instrumentation:jetty-httpclient:jetty-httpclient-9.2:testing")
nonCoreProjects.add(":instrumentation:jms:jms-1.1:javaagent")
nonCoreProjects.add(":instrumentation:jms:jms-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jms:jms-common:javaagent")
nonCoreProjects.add(":instrumentation:jms:jms-common:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:jmx-metrics:javaagent")
nonCoreProjects.add(":instrumentation:jmx-metrics:library")
nonCoreProjects.add(":instrumentation:jodd-http-4.2:javaagent")
nonCoreProjects.add(":instrumentation:jodd-http-4.2:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:jsf:jsf-javax-common:javaagent")
nonCoreProjects.add(":instrumentation:jsf:jsf-javax-common:testing")
nonCoreProjects.add(":instrumentation:jsf:jsf-jakarta-common:javaagent")
nonCoreProjects.add(":instrumentation:jsf:jsf-jakarta-common:testing")
nonCoreProjects.add(":instrumentation:jsf:jsf-mojarra-1.2:javaagent")
nonCoreProjects.add(":instrumentation:jsf:jsf-mojarra-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jsf:jsf-myfaces-1.2:javaagent")
nonCoreProjects.add(":instrumentation:jsf:jsf-myfaces-3.0:javaagent")
nonCoreProjects.add(":instrumentation:jsp-2.3:javaagent")
nonCoreProjects.add(":instrumentation:kafka:kafka-clients:kafka-clients-0.11:bootstrap")
nonCoreProjects.add(":instrumentation:kafka:kafka-clients:kafka-clients-0.11:javaagent")
nonCoreProjects.add(":instrumentation:kafka:kafka-clients:kafka-clients-0.11:testing")
nonCoreProjects.add(":instrumentation:kafka:kafka-clients:kafka-clients-2.6:library")
nonCoreProjects.add(":instrumentation:kafka:kafka-clients:kafka-clients-common:library")
nonCoreProjects.add(":instrumentation:kafka:kafka-streams-0.11:javaagent")
nonCoreProjects.add(":instrumentation:kotlinx-coroutines:javaagent")
nonCoreProjects.add(":instrumentation:ktor:ktor-1.0:library")
nonCoreProjects.add(":instrumentation:ktor:ktor-2.0:javaagent")
nonCoreProjects.add(":instrumentation:ktor:ktor-2.0:library")
nonCoreProjects.add(":instrumentation:ktor:ktor-2.0:testing")
nonCoreProjects.add(":instrumentation:ktor:ktor-common:library")
nonCoreProjects.add(":instrumentation:kubernetes-client-7.0:javaagent")
nonCoreProjects.add(":instrumentation:kubernetes-client-7.0:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:lettuce:lettuce-common:library")
nonCoreProjects.add(":instrumentation:lettuce:lettuce-4.0:javaagent")
nonCoreProjects.add(":instrumentation:lettuce:lettuce-5.0:javaagent")
nonCoreProjects.add(":instrumentation:lettuce:lettuce-5.1:javaagent")
nonCoreProjects.add(":instrumentation:lettuce:lettuce-5.1:library")
nonCoreProjects.add(":instrumentation:lettuce:lettuce-5.1:testing")
nonCoreProjects.add(":instrumentation:liberty:compile-stub")
nonCoreProjects.add(":instrumentation:liberty:liberty-20.0:javaagent")
nonCoreProjects.add(":instrumentation:liberty:liberty-dispatcher-20.0:javaagent")
nonCoreProjects.add(":instrumentation:log4j:log4j-appender-1.2:javaagent")
nonCoreProjects.add(":instrumentation:log4j:log4j-mdc-1.2:javaagent")
nonCoreProjects.add(":instrumentation:log4j:log4j-context-data:log4j-context-data-2.7:javaagent")
nonCoreProjects.add(":instrumentation:log4j:log4j-context-data:log4j-context-data-2.17:javaagent")
nonCoreProjects.add(":instrumentation:log4j:log4j-context-data:log4j-context-data-2.17:library-autoconfigure")
nonCoreProjects.add(":instrumentation:log4j:log4j-context-data:log4j-context-data-common:testing")
nonCoreProjects.add(":instrumentation:log4j:log4j-appender-2.17:javaagent")
nonCoreProjects.add(":instrumentation:log4j:log4j-appender-2.17:library")
nonCoreProjects.add(":instrumentation:logback:logback-appender-1.0:javaagent")
nonCoreProjects.add(":instrumentation:logback:logback-appender-1.0:library")
nonCoreProjects.add(":instrumentation:logback:logback-mdc-1.0:javaagent")
nonCoreProjects.add(":instrumentation:logback:logback-mdc-1.0:library")
nonCoreProjects.add(":instrumentation:logback:logback-mdc-1.0:testing")
nonCoreProjects.add(":instrumentation:methods:javaagent")
nonCoreProjects.add(":instrumentation:micrometer:micrometer-1.5:javaagent")
nonCoreProjects.add(":instrumentation:micrometer:micrometer-1.5:library")
nonCoreProjects.add(":instrumentation:micrometer:micrometer-1.5:testing")
nonCoreProjects.add(":instrumentation:mongo:mongo-3.1:javaagent")
nonCoreProjects.add(":instrumentation:mongo:mongo-3.1:library")
nonCoreProjects.add(":instrumentation:mongo:mongo-3.1:testing")
nonCoreProjects.add(":instrumentation:mongo:mongo-3.7:javaagent")
nonCoreProjects.add(":instrumentation:mongo:mongo-4.0:javaagent")
nonCoreProjects.add(":instrumentation:mongo:mongo-async-3.3:javaagent")
nonCoreProjects.add(":instrumentation:mongo:mongo-common:testing")
nonCoreProjects.add(":instrumentation:netty:netty-3.8:javaagent")
nonCoreProjects.add(":instrumentation:netty:netty-4.0:javaagent")
nonCoreProjects.add(":instrumentation:netty:netty-4.1:javaagent")
nonCoreProjects.add(":instrumentation:netty:netty-4.1:library")
nonCoreProjects.add(":instrumentation:netty:netty-4.1:testing")
nonCoreProjects.add(":instrumentation:netty:netty-4-common:javaagent")
nonCoreProjects.add(":instrumentation:netty:netty-4-common:library")
nonCoreProjects.add(":instrumentation:netty:netty-common:library")
nonCoreProjects.add(":instrumentation:okhttp:okhttp-2.2:javaagent")
nonCoreProjects.add(":instrumentation:okhttp:okhttp-3.0:javaagent")
nonCoreProjects.add(":instrumentation:okhttp:okhttp-3.0:library")
nonCoreProjects.add(":instrumentation:okhttp:okhttp-3.0:testing")
nonCoreProjects.add(":instrumentation:opencensus-shim:testing")
nonCoreProjects.add(":instrumentation:opensearch:opensearch-rest-common:javaagent")
nonCoreProjects.add(":instrumentation:opensearch:opensearch-rest-1.0:javaagent")
nonCoreProjects.add(":instrumentation:oracle-ucp-11.2:javaagent")
nonCoreProjects.add(":instrumentation:oracle-ucp-11.2:library")
nonCoreProjects.add(":instrumentation:oracle-ucp-11.2:testing")
nonCoreProjects.add(":instrumentation:oshi:javaagent")
nonCoreProjects.add(":instrumentation:oshi:library")
nonCoreProjects.add(":instrumentation:oshi:testing")
nonCoreProjects.add(":instrumentation:payara:javaagent")
nonCoreProjects.add(":instrumentation:pekko:pekko-actor-1.0:javaagent")
nonCoreProjects.add(":instrumentation:pekko:pekko-http-1.0:javaagent")
nonCoreProjects.add(":instrumentation:play:play-mvc:play-mvc-2.4:javaagent")
nonCoreProjects.add(":instrumentation:play:play-mvc:play-mvc-2.6:javaagent")
nonCoreProjects.add(":instrumentation:play:play-ws:play-ws-1.0:javaagent")
nonCoreProjects.add(":instrumentation:play:play-ws:play-ws-2.0:javaagent")
nonCoreProjects.add(":instrumentation:play:play-ws:play-ws-2.1:javaagent")
nonCoreProjects.add(":instrumentation:play:play-ws:play-ws-common:javaagent")
nonCoreProjects.add(":instrumentation:play:play-ws:play-ws-common:testing")
nonCoreProjects.add(":instrumentation:pulsar:pulsar-2.8:javaagent")
nonCoreProjects.add(":instrumentation:pulsar:pulsar-2.8:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:quartz-2.0:javaagent")
nonCoreProjects.add(":instrumentation:quartz-2.0:library")
nonCoreProjects.add(":instrumentation:quartz-2.0:testing")
nonCoreProjects.add(":instrumentation:r2dbc-1.0:javaagent")
nonCoreProjects.add(":instrumentation:r2dbc-1.0:library")
nonCoreProjects.add(":instrumentation:r2dbc-1.0:library-instrumentation-shaded")
nonCoreProjects.add(":instrumentation:r2dbc-1.0:testing")
nonCoreProjects.add(":instrumentation:rabbitmq-2.7:javaagent")
nonCoreProjects.add(":instrumentation:ratpack:ratpack-1.4:javaagent")
nonCoreProjects.add(":instrumentation:ratpack:ratpack-1.4:testing")
nonCoreProjects.add(":instrumentation:ratpack:ratpack-1.7:library")
nonCoreProjects.add(":instrumentation:reactor:reactor-3.1:javaagent")
nonCoreProjects.add(":instrumentation:reactor:reactor-3.1:library")
nonCoreProjects.add(":instrumentation:reactor:reactor-3.1:testing")
nonCoreProjects.add(":instrumentation:reactor:reactor-kafka-1.0:javaagent")
nonCoreProjects.add(":instrumentation:reactor:reactor-kafka-1.0:testing")
nonCoreProjects.add(":instrumentation:reactor:reactor-netty:reactor-netty-0.9:javaagent")
nonCoreProjects.add(":instrumentation:reactor:reactor-netty:reactor-netty-1.0:javaagent")
nonCoreProjects.add(":instrumentation:reactor:reactor-netty:reactor-netty-1.0:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:rediscala-1.8:javaagent")
nonCoreProjects.add(":instrumentation:redisson:redisson-3.0:javaagent")
nonCoreProjects.add(":instrumentation:redisson:redisson-3.17:javaagent")
nonCoreProjects.add(":instrumentation:redisson:redisson-common:javaagent")
nonCoreProjects.add(":instrumentation:redisson:redisson-common:testing")
nonCoreProjects.add(":instrumentation:resources:library")
nonCoreProjects.add(":instrumentation:restlet:restlet-1.1:javaagent")
nonCoreProjects.add(":instrumentation:restlet:restlet-1.1:library")
nonCoreProjects.add(":instrumentation:restlet:restlet-1.1:testing")
nonCoreProjects.add(":instrumentation:restlet:restlet-2.0:javaagent")
nonCoreProjects.add(":instrumentation:restlet:restlet-2.0:library")
nonCoreProjects.add(":instrumentation:restlet:restlet-2.0:testing")
nonCoreProjects.add(":instrumentation:rmi:bootstrap")
nonCoreProjects.add(":instrumentation:rmi:javaagent")
nonCoreProjects.add(":instrumentation:rocketmq:rocketmq-client:rocketmq-client-4.8:javaagent")
nonCoreProjects.add(":instrumentation:rocketmq:rocketmq-client:rocketmq-client-4.8:library")
nonCoreProjects.add(":instrumentation:rocketmq:rocketmq-client:rocketmq-client-4.8:testing")
nonCoreProjects.add(":instrumentation:rocketmq:rocketmq-client:rocketmq-client-5.0:javaagent")
nonCoreProjects.add(":instrumentation:rocketmq:rocketmq-client:rocketmq-client-5.0:testing")
nonCoreProjects.add(":instrumentation:runtime-telemetry:runtime-telemetry-java8:javaagent")
nonCoreProjects.add(":instrumentation:runtime-telemetry:runtime-telemetry-java8:library")
nonCoreProjects.add(":instrumentation:runtime-telemetry:runtime-telemetry-java8:testing")
nonCoreProjects.add(":instrumentation:runtime-telemetry:runtime-telemetry-java17:javaagent")
nonCoreProjects.add(":instrumentation:runtime-telemetry:runtime-telemetry-java17:library")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-1.0:library")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-2.0:library")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-2.0:testing")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-2.0:javaagent")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-3.0:library")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-3.0:javaagent")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-3.1.1:library")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-3.1.1:javaagent")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-3-common:library")
nonCoreProjects.add(":instrumentation:rxjava:rxjava-3-common:testing")
nonCoreProjects.add(":instrumentation:quarkus-resteasy-reactive:javaagent")
nonCoreProjects.add(":instrumentation:quarkus-resteasy-reactive:common-testing")
nonCoreProjects.add(":instrumentation:quarkus-resteasy-reactive:quarkus2-testing")
nonCoreProjects.add(":instrumentation:quarkus-resteasy-reactive:quarkus3-testing")
nonCoreProjects.add(":instrumentation:scala-fork-join-2.8:javaagent")
nonCoreProjects.add(":instrumentation:servlet:servlet-common:bootstrap")
nonCoreProjects.add(":instrumentation:servlet:servlet-common:javaagent")
nonCoreProjects.add(":instrumentation:servlet:servlet-javax-common:javaagent")
nonCoreProjects.add(":instrumentation:servlet:servlet-2.2:javaagent")
nonCoreProjects.add(":instrumentation:servlet:servlet-3.0:javaagent")
nonCoreProjects.add(":instrumentation:servlet:servlet-3.0:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:servlet:servlet-5.0:javaagent")
nonCoreProjects.add(":instrumentation:servlet:servlet-5.0:javaagent-unit-tests")
nonCoreProjects.add(":instrumentation:spark-2.3:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-batch-3.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-boot-actuator-autoconfigure-2.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-boot-resources:library")
nonCoreProjects.add(":instrumentation:spring:spring-boot-resources:testing")
nonCoreProjects.add(":instrumentation:spring:spring-cloud-gateway:spring-cloud-gateway-2.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-cloud-gateway:spring-cloud-gateway-2.2:testing")
nonCoreProjects.add(":instrumentation:spring:spring-cloud-gateway:spring-cloud-gateway-common:testing")
nonCoreProjects.add(":instrumentation:spring:spring-core-2.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-data:spring-data-1.8:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-data:spring-data-3.0:testing")
nonCoreProjects.add(":instrumentation:spring:spring-data:spring-data-common:testing")
nonCoreProjects.add(":instrumentation:spring:spring-integration-4.1:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-integration-4.1:library")
nonCoreProjects.add(":instrumentation:spring:spring-integration-4.1:testing")
nonCoreProjects.add(":instrumentation:spring:spring-jms:spring-jms-2.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-jms:spring-jms-6.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-kafka-2.7:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-kafka-2.7:library")
nonCoreProjects.add(":instrumentation:spring:spring-kafka-2.7:testing")
nonCoreProjects.add(":instrumentation:spring:spring-rabbit-1.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-rmi-4.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-scheduling-3.1:bootstrap")
nonCoreProjects.add(":instrumentation:spring:spring-scheduling-3.1:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-security-config-6.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-security-config-6.0:library")
nonCoreProjects.add(":instrumentation:spring:spring-web:spring-web-3.1:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-web:spring-web-3.1:library")
nonCoreProjects.add(":instrumentation:spring:spring-web:spring-web-3.1:testing")
nonCoreProjects.add(":instrumentation:spring:spring-web:spring-web-6.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-3.1:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-3.1:wildfly-testing")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-5.3:library")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-6.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-6.0:library")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-common:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-webmvc:spring-webmvc-common:testing")
nonCoreProjects.add(":instrumentation:spring:spring-webflux:spring-webflux-5.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-webflux:spring-webflux-5.0:testing")
nonCoreProjects.add(":instrumentation:spring:spring-webflux:spring-webflux-5.3:testing")
nonCoreProjects.add(":instrumentation:spring:spring-webflux:spring-webflux-5.3:library")
nonCoreProjects.add(":instrumentation:spring:spring-ws-2.0:javaagent")
nonCoreProjects.add(":instrumentation:spring:spring-boot-autoconfigure")
nonCoreProjects.add(":instrumentation:spring:starters:spring-boot-starter")
nonCoreProjects.add(":instrumentation:spring:starters:zipkin-spring-boot-starter")
nonCoreProjects.add(":instrumentation:spymemcached-2.12:javaagent")
nonCoreProjects.add(":instrumentation:struts-2.3:javaagent")
nonCoreProjects.add(":instrumentation:tapestry-5.4:javaagent")
nonCoreProjects.add(":instrumentation:tomcat:tomcat-7.0:javaagent")
nonCoreProjects.add(":instrumentation:tomcat:tomcat-10.0:javaagent")
nonCoreProjects.add(":instrumentation:tomcat:tomcat-common:javaagent")
nonCoreProjects.add(":instrumentation:tomcat:tomcat-jdbc")
nonCoreProjects.add(":instrumentation:twilio-6.6:javaagent")
nonCoreProjects.add(":instrumentation:undertow-1.4:bootstrap")
nonCoreProjects.add(":instrumentation:undertow-1.4:javaagent")
nonCoreProjects.add(":instrumentation:vaadin-14.2:javaagent")
nonCoreProjects.add(":instrumentation:vaadin-14.2:testing")
nonCoreProjects.add(":instrumentation:vertx:vertx-http-client:vertx-http-client-3.0:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-http-client:vertx-http-client-4.0:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-http-client:vertx-http-client-common:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-kafka-client-3.6:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-kafka-client-3.6:testing")
nonCoreProjects.add(":instrumentation:vertx:vertx-redis-client-4.0:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-rx-java-3.5:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-sql-client-4.0:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-web-3.0:javaagent")
nonCoreProjects.add(":instrumentation:vertx:vertx-web-3.0:testing")
nonCoreProjects.add(":instrumentation:vibur-dbcp-11.0:javaagent")
nonCoreProjects.add(":instrumentation:vibur-dbcp-11.0:library")
nonCoreProjects.add(":instrumentation:vibur-dbcp-11.0:testing")
nonCoreProjects.add(":instrumentation:wicket-8.0:javaagent")
nonCoreProjects.add(":instrumentation:zio:zio-2.0:javaagent")

if (isCI) {
  // Include all subprojects when running in a GH Action.
  include(nonCoreProjects)
} else {
  // Include the subprojects you'd like to enable locally here, e.g:

  // include(":instrumentation:okhttp:okhttp-3.0:javaagent")
  // include(":instrumentation:okhttp:okhttp-3.0:library")
  // include(":instrumentation:okhttp:okhttp-3.0:testing")

  // or:
  // nonCoreProjects.filter { it.contains("okhttp-3.0") }.forEach {
  //   include(it)
  // }
}
